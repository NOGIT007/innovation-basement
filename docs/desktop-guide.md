# Desktop Guide

**Using the Coding Plugin with Claude Code Desktop — previews, diffs, CI monitoring, and seamless CLI handoff.**

See the official [Desktop docs](https://code.claude.com/docs/en/desktop) and [Desktop quickstart](https://code.claude.com/docs/en/desktop-quickstart) for general Desktop features.

---

## When to Use Desktop vs CLI

| Use Case                             | Desktop           | CLI               |
| ------------------------------------ | ----------------- | ----------------- |
| Visual preview & element picker      | Best              | -                 |
| Diff review (inline comments)        | Best              | -                 |
| CI monitoring & auto-fix             | Best              | -                 |
| SSH to remote servers                | Best              | -                 |
| Text-heavy planning & implementation | -                 | Best              |
| Agent Swarm / tmux split-pane        | -                 | Best              |
| Headless CI pipelines                | -                 | Best              |
| Plugin commands (`/code:*`)          | Works identically | Works identically |

Use whichever fits the current task — switch freely between them.

---

## Workflows: Desktop + CLI Together

The real power is combining both. Here are three common patterns.

### Workflow A: Feature Dev with Visual Review

The most common pattern — implement in CLI, review in Desktop.

```
CLI: /plan → /code:plan-issue → /clear → /code:implement #42
                                              ↓ tasks complete
CLI: /desktop                      ← transfer session to Desktop
                                              ↓
Desktop: Preview → Diffs (review) → Element picker (tweak)
                                              ↓
Desktop: /code:finalizer --pr → CI monitoring → auto-fix → merge
```

- CLI is faster for planning and implementation (keyboard-native, Agent Swarm)
- `/desktop` transfers the session with full context to Desktop
- Desktop adds visual tools: preview, diff viewer, element picker, CI monitoring
- Ship from Desktop with visual confidence

### Workflow B: Design-First (Frontend)

Start in Desktop when the work is primarily visual.

```
Desktop: Open project → Preview → Element picker → iterate visually
                                              ↓ need heavy implementation
CLI: /code:implement #42 --team    ← Agent Swarm for parallel tasks
                                              ↓ tasks complete
CLI: /desktop                      ← back to Desktop for review
```

- Start in Desktop for rapid visual iteration
- Switch to CLI when you need Agent Swarm or tmux split-panes
- Return to Desktop for final visual sign-off

### Workflow C: PR Fix Cycle

Desktop CI monitoring catches failures, fix them in place or drop to CLI.

```
Desktop: CI monitoring → failed check detected
    Option A: Auto-fix → Claude fixes it in Desktop
    Option B: CLI /from-pr 42 → deep investigation in CLI
```

- Desktop CI monitoring surfaces failures immediately
- Simple fixes: let auto-fix handle it
- Complex issues: `/from-pr` resumes the original implementation session in CLI

---

## Setup

1. **Install Claude Desktop** — follow the [official install guide](https://support.claude.com/en/articles/10065433-installing-claude-desktop)
2. **Open Code tab** — select Local, choose your project folder
3. **Install the plugin** — same marketplace install as CLI (`/plugin install coding-plugin@innovation-basement`)
4. **Configure worktree settings** — location (in-project recommended), branch prefix
5. **Enable Preview** — toggle in Settings > Claude Code (see [Settings docs](https://code.claude.com/docs/en/settings))

---

## Preview Mode

For projects created with `/code:bun-init` (Next.js), Desktop provides a live preview.

**How it works:**

- `launch.json` is auto-generated by the init command
- Desktop starts the dev server and renders the app inline
- Changes appear in real time as Claude edits code

**What you can do:**

- **Mobile preview** — resize to test responsive layouts
- **Element picker** — click any element to target it for design changes
- **Persistent sessions** — cookies and localStorage survive restarts

See [Claude Code best practices](https://code.claude.com/docs/en/best-practices) for tips on effective preview workflows.

---

## Reviewing Diffs

Desktop includes a built-in diff viewer for reviewing changes before shipping.

- **View changes** — click the line count to open the diff
- **Inline comments** — comment on specific lines
- **Submit feedback** — comments go back to Claude for adjustments

This replaces the need to context-switch to GitHub for code review during development.

---

## CI Monitoring

After running `/code:finalizer --pr`, Desktop monitors CI checks.

- **View CI checks** — see pass/fail status in the Desktop UI
- **Auto-fix** — Claude automatically fixes failed checks and pushes
- **Auto-merge** — merge when all checks pass (if enabled)

This closes the loop between PR creation and merge without leaving Desktop.

---

## SSH for Remote Servers

For deployed apps that live directly on a server:

1. **Add SSH connection** in Desktop settings
2. **Select the remote folder** and run commands directly
3. Best for small projects managed directly on the server

---

## Useful Commands

Brief reference — see the full [CLI reference](https://code.claude.com/docs/en/cli-reference).

| Command       | What it does                                  |
| ------------- | --------------------------------------------- |
| `/desktop`    | Transfer current CLI session to Desktop app   |
| `/debug`      | Troubleshoot Claude Code issues using logs    |
| `/rewind`     | Rollback or summarize from a point in session |
| `/from-pr`    | Resume a session linked to a PR               |
| `Ctrl+F` (x2) | Kill all background agents                    |

---

## Custom Agent Features

For users extending the plugin with their own agents:

| Feature               | What it does                                                    |
| --------------------- | --------------------------------------------------------------- |
| `background: true`    | Agent always runs in background                                 |
| `memory: project`     | Agent remembers across runs (stored in `.claude/agent-memory/`) |
| `isolation: worktree` | Agent runs in isolated worktree (used by implementer)           |

See the [Agent Teams docs](https://code.claude.com/docs/en/agent-teams) for full details.

---

## What's Next?

- **[Getting Started](getting-started.md)** — First-time setup in 10 minutes
- **[User Guide](user-guide.md)** — Workflow reference for active users
- **[Git Workflow Guide](git-workflow-guide.md)** — When to commit, PR, or merge

---

_Part of the [Innovation Basement Coding Plugin](https://github.com/NOGIT007/innovation-basement)_
